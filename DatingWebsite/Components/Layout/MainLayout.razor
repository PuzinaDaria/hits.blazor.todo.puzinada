@inherits LayoutComponentBase
@inject IAuthService AuthService
@inject NavigationManager Navigation

<div style="display: flex; min-height: 100vh;">
    <!-- Сайдбар -->
    <div style="width: 250px; background: linear-gradient(180deg, #2c3e50 0%, #34495e 100%); color: white;">
        <NavMenu />
    </div>

    <!-- Основной контент -->
    <div style="flex: 1; display: flex; flex-direction: column;">
        <!-- Верхняя панель -->
        <div style="background: white; padding: 15px 30px; border-bottom: 1px solid #eee; display: flex; justify-content: flex-end; align-items: center;">
            @if (AuthService.IsAuthenticated)
            {
                <div style="display: flex; align-items: center; gap: 15px;">
                    <span>Привет, @AuthService.CurrentUser?.FirstName!</span>
                    <button @onclick="Logout" style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">
                        Выйти
                    </button>
                </div>
            }
            else
            {
                <a href="/login" style="background: #e75480; color: white; padding: 8px 16px; border-radius: 6px; text-decoration: none;">
                    Войти
                </a>
            }
        </div>

        <!-- Контент страницы -->
        <main style="flex: 1; padding: 30px; background: #f8f9fa;">
            @Body
        </main>
    </div>
</div>

@code {
    private void Logout()
    {
        AuthService.Logout();
        Navigation.NavigateTo("/", true);
    }
}