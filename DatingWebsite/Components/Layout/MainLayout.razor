@using DatingWebsite.Components.Pages
@inherits LayoutComponentBase

<div style="display: flex; min-height: 100vh;">
    <!-- Сайдбар -->
    <div style="width: 250px; background: #2c3e50; color: white;">
        <!-- Используем SimpleMenu -->
        <SimpleMenu />
    </div>

    <!-- Основной контент -->
    <div style="flex: 1; display: flex; flex-direction: column;">
        <!-- Верхняя панель (простая) -->
        <div style="background: white; padding: 15px 30px; border-bottom: 1px solid #eee; display: flex; justify-content: flex-end;">
            <!-- Кнопки авторизации -->
            <div>
                <span id="authStatus" style="margin-right: 15px;">
                    <!-- Заполнится JavaScript -->
                </span>
                <a href="/login" id="loginBtn" style="background: #e75480; color: white; padding: 8px 16px; border-radius: 6px; text-decoration: none;">
                    Войти
                </a>
                <button onclick="logout()" id="logoutBtn" style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; display: none;">
                    Выйти
                </button>
            </div>
        </div>

        <!-- Контент страницы -->
        <main style="flex: 1; padding: 30px; background: #f8f9fa;">
            @Body
        </main>
    </div>
</div>

<script>
    // Обновляем верхнюю панель
    document.addEventListener('DOMContentLoaded', updateTopBar);
    
    function updateTopBar() {
        const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
        const authStatus = document.getElementById('authStatus');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        
        if (isLoggedIn) {
            authStatus.innerHTML = '<span style="color: green;">✅ Вы вошли</span>';
            loginBtn.style.display = 'none';
            logoutBtn.style.display = 'inline-block';
        } else {
            authStatus.innerHTML = '<span style="color: red;">⚠️ Не авторизован</span>';
            loginBtn.style.display = 'inline-block';
            logoutBtn.style.display = 'none';
        }
    }
    
    function logout() {
        localStorage.removeItem('isLoggedIn');
        window.location.href = '/';
    }
</script>